<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Projects - Brand</title>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,400,700">
    <link rel="stylesheet" href="assets/fonts/fontawesome-all.min.css">
    <link rel="stylesheet" href="assets/fonts/ionicons.min.css">
    <link rel="stylesheet" href="assets/css/discordembed.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pikaday/1.6.1/css/pikaday.min.css">
</head>

<body>
    <nav class="navbar navbar-dark navbar-expand-lg fixed-top bg-white portfolio-navbar gradient">
        <div class="container"><a class="navbar-brand logo" href="#">FishyBot</a><button data-toggle="collapse" class="navbar-toggler" data-target="#navbarNav"><span class="sr-only">Toggle navigation</span><span class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse"
                id="navbarNav">
                <ul class="nav navbar-nav ml-auto">
                    <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="features.html">Features</a></li>
                    <li class="nav-item"><a class="nav-link" href="generators.html">Generators</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <main class="page projets-page">
        <section class="portfolio-block project-no-images" style="padding: 20px;">
            <div class="container" style="padding-bottom: 0;">
                <div class="heading">
                    <h2 style="padding-bottom: -10px;padding-top: 5px;">join message generator</h2>
                </div><div style="padding-top: -20px;">
<script>
window.onload = function () {
    var copyTextareaBtn = document.getElementById('textareacopybtn');

    copyTextareaBtn.onclick =function(event) {
        /*var copyTextarea = document.getElementById('embedout');
        copyTextarea.focus();
        copyTextarea.select(0,99999);

        try {
            var successful = document.execCommand('copy');
            var msg = successful ? 'successful' : 'unsuccessful';
            console.log('Copying text command was ' + msg);
        } catch (err) {
            console.log('Oops, unable to copy');
        }*/

        /* Get the text field */
        var copyText = document.getElementById("embedout").innerHTML;

        /* Select the text field */
        
        const el = document.createElement('textarea');
        el.value = copyText;
        document.body.appendChild(el);
        el.select();
        document.execCommand('copy');
        document.body.removeChild(el);
        

        var modal = document.getElementById("copymodal");
        var span = document.getElementsByClassName("close")[0];
        modal.style.display = "block";
        span.onclick = function() {
        modal.style.display = "none";
        }
        window.onclick = function(event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }
    };
     
    bootstrap_alert = function() {}
    bootstrap_alert.warning = function() {
        $('#alert_placeholder').html(
            `<div class="alert alert-danger alert-dismissible fade show" role="alert">
            <strong>TOO LONG!</strong> You should shorten some of those fields below.
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
            </div>`)
    }



    var update = function() {
        var title1 = emt1.textContent;
        var title2 = emt2.textContent;
        var disc1 = emd1.textContent;
        var disc2 = emd2.textContent;

        var col = emco.value;
        var chan = emch.checked;
        
        const obj = {a:title1,b:title2,c:disc1,d:disc2,
                    x:col,
                    y:chan};
        const json = JSON.stringify(obj);
        if(json.length < 1950){
            document.getElementById("embedout").textContent = "!joinmsg " +json;
        } else {
            bootstrap_alert.warning();
            document.getElementById("embedout").textContent = "TOO LONG";
        }
    }

    var emt1 = document.getElementById("embedtitle1");
    var emd1 = document.getElementById("embeddesc1");
    var emt2 = document.getElementById("embedtitle2");
    var emd2 = document.getElementById("embeddesc2");

    var emco = document.getElementById("embedcolor");
    var emch = document.getElementById("embedchannel");
    
    emt1.addEventListener("DOMCharacterDataModified", update, false);
    emd1.addEventListener("DOMCharacterDataModified", update, false);
    emt2.addEventListener("DOMCharacterDataModified", update, false);
    emd2.addEventListener("DOMCharacterDataModified", update, false);

    emco.addEventListener("change", update, false)
    emch.addEventListener("change", update, false);

    function changeColor() {
        var color = document.getElementById("embedcolor");

        // The code I'd like to use for changing the text simultaneously - however it does not work.
        document.getElementById("discord-left-border").style.backgroundColor = color.value;
    }

    document.getElementById("embedcolor").addEventListener("change", changeColor, false);
}
    </script>
    <!-- Modal -->
<div class="modal" id="copymodal" tabindex="1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Succesfully copied!</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        
      </div>
    </div>
  </div>

    <div id="alert_placeholder"> </div>
    <div class="discord-messages">
        <div class="discord-message">
            <div class="discord-author-avatar"><img src="assets/img/avatars/avatar.png" alt="Tutorial Bot"></div>
            <div class="discord-message-content">
                <div><span class="discord-author-info"><span class="discord-author-username">
                    FishyBot
                    </span> <span class="discord-bot-tag">
                    Bot
                    </span></span> <span class="discord-message-timestamp">
                    08/31/2020
                    </span>
                </div>
                <div class="discord-message-body">
                    <!---->  <!---->
                </div>
                <div class="discord-embed">
                    <div class="discord-left-border" id="discord-left-border" style="background-color:#0099ff;"></div>
                    <div class="discord-embed-container">
                        <div class="discord-embed-content">
                            <div>
                                
                                <div class="discord-embed-fields">
                                    <div class="discord-embed-field">
                                        <div class="discord-field-title" contentEditable="true" id="embedtitle1">You can type here</div>
                                        <div contentEditable="true" id="embeddesc1" class="discord-field-desc">Use {name} to display the user</div>
                                    </div>
                                </div>
                                <div class="discord-embed-fields">
                                    <div class="discord-embed-field">
                                        <div class="discord-field-title" contentEditable="true" id="embedtitle2">Title </div>
                                        <div contentEditable="true" id="embeddesc2"  class="discord-field-desc">Description </div>
                                    </div>
                                </div>
                                
                                
                            </div>
                            <img src="assets/img/avatars/avatar.png" alt="" class="discord-embed-thumbnail">
                        </div>
                        <div class="discord-embed-footer"> <span> 
                            <span>
                            08/31/2020
                            </span></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="discord-message">
            <div class="discord-author-avatar"><img src="assets/img/avatars/avatar.png" alt="Tutorial Bot"></div>
            <div class="discord-message-content">
                <div><span class="discord-author-info"><span class="discord-author-username">
                    Some extra settings
                    </span> <span class="discord-bot-tag">
                    Bot
                    </span></span> <span class="discord-message-timestamp">
                    08/31/2020
                    </span>
                </div>
                <div class="discord-message-body">
                    <!---->  <!---->
                </div>
                <div class="discord-embed">
                    <div class="discord-left-border" style="background-color:#000000;"></div>
                    <div class="discord-embed-container">
                        <div class="discord-embed-content">
                            <div>
                                
                                <div class="discord-embed-fields">
                                    <div class="discord-embed-field">
                                        <div class="discord-field-title">Color</div>
                                        <input type="color" class="form-control" style="height: 40px; width: 100px;" id="embedcolor"/>
                                    </div>
                                </div>
                                <div class="discord-embed-fields">
                                    <div class="discord-embed-field">
                                        <div class="custom-control custom-checkbox">
                                            <input type="checkbox" class="custom-control-input" id="embedchannel">
                                            <label class="custom-control-label" for="embedchannel">Use channel the command was send in</label>
                                        </div>
                                    </div>
                                </div>
                                
                                
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</div>

                <div class="row" style="margin: 10px;">
                    <div class="col-auto col-md-6 col-lg-4 offset-xl-0">
                        <div class="project-card-no-image">
                            <h3>Code</h3>
                            <h4 id="embedout">Edit the embed above to begin!</h4><button class="btn btn-outline-primary" id="textareacopybtn" type="button">Copy to clipboard<br></button>
                            <div class="tags"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>
    <footer class="page-footer">
        <div class="container">
            <div class="links"><a href="index.html">Home</a></div>
            <div class="social-icons"><a href="https://github.com/Fish-o/FishyBot"><i class="icon ion-social-github"></i></a><a href="https://discord.gg/95EM7XD"><i class="fab fa-discord"></i></a></div>
        </div>
    </footer>
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="assets/js/customcommands.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pikaday/1.6.1/pikaday.min.js"></script>
    <script src="assets/js/theme.js"></script>
</body>

</html>